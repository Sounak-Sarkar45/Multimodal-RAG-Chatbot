# === Core environment setup ===
setuptools>=65.5.0
pip>=23.0
python-dotenv

# === Streamlit app ===
streamlit
Pillow
PyMuPDF

# === LangChain core ===
langchain
langchain-core
langchain-groq
langchain-community
fastembed

# === Unstructured PDF parsing ===
unstructured[local-inference]

# === NLP and text processing ===
nltk
transformers
pandas

# === Vector database ===
chromadb

# === Machine learning / vision ===
numpy>=1.23.0
cython
torch
torchvision
torchaudio
layoutparser[layoutmodels,tesseract]
# Force correct python-magic per OS
python-magic; sys_platform != "win32"
python-magic-bin; sys_platform == "win32"
pytesseract

# === Google Gemini API ===
google-generativeai

# === Optional: Detectron2 (must be installed from source) ===
# detectron2 @ git+https://github.com/facebookresearch/detectron2.git

# === Final override to avoid libGL.so.1 errors ===
# This removes opencv-python if installed by dependencies and replaces with headless
opencv-python-headless>=4.9.0.80

# === Vector database ===
chromadb
pysqlite3-binary
